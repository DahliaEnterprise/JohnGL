<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Trails</title>
  <script type="text/javascript">
    /* GLOBAL VARIABLES */
      /* Functions as variables */
        /* Startup */
        var begin_startup = null;
        var stage_one = null;
        var stage_two = null;

      /* Synchronous Variables */
      const synchronous_decimal_fraction_precision = 6;
    
      /* Open GL ES */
        /* HTML Elements */
        var canvas_for_opengl = null;

        /* Interface */
        var interface_to_opengles = null;

        /* Inline Shaders */
        var list_of_shaders = {};

        /* List of models */
        var list_of_models = {};

      /* Imperial Measurment */
      var imperial_measurement = {};
    
      /* Coordinated Space */
      var coordinated_space = {};
    
    /* Stage One, Initialize Handles */
    stage_one = function()
    {
      
      canvas_for_opengl = document.getElementById("canvas_for_opengl");
      interface_to_opengles = canvas_for_opengl.getContext("webgl2");
   
    }

    /* Stage Two, Define coordinated space, list of shaders and models */
    stage_two = function()
    {
      /* Define Imperial Measurement */
      imperial_measurement["unit_type"] = "inches";
      
      imperial_measurement["total_hatchmarks_per_one_inch"] = 32;
      imperial_measurement["size_of_space_between_hatchmark"] = 0.031250;
      
      imperial_measurement["diameter_of_one_unitedstates_quarter"] = 0.955000;
      imperial_measurement["length_of_one_mile"] = 63360.000000; //one mile is 5280 feet, 5280 feet muliplied by 12 inches(one foot) is 63360 inches exactly.

      
      /* Coordinated Space Definition */
          /* Length of plane */
          coordinated_space["length_of_x_plane_hatchmarks"] = (imperial_measurement["length_of_one_mile"] * imperial_measurement["total_hatchmarks_per_one_inch"]);
          coordinated_space["length_of_y_plane_hatchmarks"] = (imperial_measurement["length_of_one_mile"] * imperial_measurement["total_hatchmarks_per_one_inch"]);
          coordinated_space["length_of_z_plane_hatchmarks"] = (imperial_measurement["length_of_one_mile"] * imperial_measurement["total_hatchmarks_per_one_inch"]);
      
          /* Center of plane */
          coordinated_space["center_of_x_plane_hatchmarks"] = Math.trunc((coordinated_space["length_of_x_plane_hatchmarks"] / 2));
          coordinated_space["center_of_y_plane_hatchmarks"] = Math.trunc((coordinated_space["length_of_y_plane_hatchmarks"] / 2));
          coordinated_space["center_of_z_plane_hatchmarks"] = Math.trunc((coordinated_space["length_of_z_plane_hatchmarks"] / 2));
                          
                    
      /* List of Shaders */
        /*
           loop through each element
           inside if list_of_shaders div
           and append translated data
           to the list of shaders Javascript Object Notation.
        */

      let list_of_shaders_div_ids = ["shader_generic_colorize"]
      for(let index = 0; index < list_of_shaders_div_ids.length; index = index + 1)
      {
        
        //do compile shader
          //do compile vertex shader
          let vertex_shader_of_program = interface_to_opengles.createShader(interface_to_opengles.VERTEX_SHADER);
          let vertex_shader_div_id_to_sourcecode = list_of_shaders_div_ids[index]+"_vertex";
          let vertex_shader_sourcecode = document.getElementById(vertex_shader_div_id_to_sourcecode).innerHTML;
          
          interface_to_opengles.shaderSource(vertex_shader_of_program, vertex_shader_sourcecode);
          interface_to_opengles.compileShader(vertex_shader_of_program);

          if(interface_to_opengles.getShaderParameter(vertex_shader_of_program, interface_to_opengles.COMPILE_STATUS) == false)
          {
            console.log("vertex shader failed to compile ("+vertex_shader_div_id_to_sourcecode+")");
          }

          //do compile fragment shader
          let fragment_shader_of_program = interface_to_opengles.createShader(interface_to_opengles.FRAGMENT_SHADER);
          let fragment_shader_sourcecode = document.getElementById(list_of_shaders_div_ids[index]+"_fragment").innerHTML;
          interface_to_opengles.shaderSource(fragment_shader_of_program, fragment_shader_sourcecode);
          interface_to_opengles.compileShader(fragment_shader_of_program);

          if(interface_to_opengles.getShaderParameter(fragment_shader_of_program, interface_to_opengles.COMPILE_STATUS) == false)
          {
            console.log("fragment shader failed to compile ("+list_of_shaders_div_ids[index]+"_fragment)");
            
          }
      }
      


      /* List of Models */
        /* 
           loop through each element 
           inside of list_of_models div
           and append translated data
           to the list of models Javascript Object Notation.
        */
      //list_of_models[""]
      
    }

    /* Run startup stages */
    begin_startup = function()
    {
      stage_one();
      stage_two();
      
    
    }
   
  </script>
</head>
<body onLoad="begin_startup()">
  <canvas id="canvas_for_opengl"></canvas>
  <div id="test">test</div>
  <div id="list_of_models" style="display:none;">
    <div id="test_model">
      {
        "coordinates":{
                        "positions":"866304, 1014144,
                                     866304, 1013760,
                                     1013760, 1013760
                                    "
                      }
      }
    </div>
    <div id="alphabet_unitedstates_english_lowercase_a">
      {
        "coordinates":{
                        
                      }
      }
    </div>
  </div>
  <div id="list_of_shaders" style="display:none;">
    <div id="shader_generic_colorize">
      <div id="shader_generic_colorize_vertex">
        attribute vec4 position_of_vertex_to_colorize; \n
        attribute vec4 color_of_vertex_to_colorize; \n
        varying vec4 varying_color_of_vertex_to_colorize; \n
        void main() { \n
        //colorize position
        gl_Position = position_of_vertex_to_colorize; \n
        varying_color_of_vertex_to_colorize = color_of_vertex_to_colorize;  \n
        }\n
      </div>
      <div id="shader_generic_colorize_fragment">
        precision mediump float;  \n
        varying vec4 varying_color_of_vertex_to_colorize; \n
        void main() { \n
        gl_FragColor = varying_color_of_vertex_to_colorize; \n
        }
      </div>
    </div>
  </div>                  
  </body>
</html>
